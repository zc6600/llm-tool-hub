### Chapter 1: Project Structure and Setup

This chapter outlines the standard, professional directory layout and initialization protocol for modern Python libraries.

#### 1.1 The `src/` Layout (Recommended Structure)

Always use the `src/` layout. It clearly separates the package source code from documentation, tests, and configuration files.

| **Path**                | **Purpose**                            | **Key Files**                          |
| ----------------------------- | -------------------------------------------- | -------------------------------------------- |
| `project-root/`             | Repository boundary                          | `pyproject.toml`,`README.md`,`LICENSE` |
| `├── src/`               | **Source Code Root**                   | Contains the actual installable package.     |
| `│   └── package_name/` | The main Python package (`llm_tool_hub/`). | `__init__.py`,`base_tool.py`             |
| `├── tests/`             | All unit and integration tests.              | `test_*.py`                                |
| `├── docs/`              | Documentation source files.                  | -                                            |
| `└── ...`                | Configuration files (e.g.,`.gitignore`).   | -                                            |

#### 1.2 The Role of `pyproject.toml`

This file is the single source of truth for project metadata and configuration.

| **Section**                   | **Purpose**                                              | **Critical Configuration**                                 |
| ----------------------------------- | -------------------------------------------------------------- | ---------------------------------------------------------------- |
| `[build-system]`                  | Defines how the package is built (e.g., using `setuptools`). | `requires = [...]`,`build-backend = "setuptools.build_meta"` |
| `[project]`                       | Defines the project's public identity.                         | `name`,`version`,`description`,`classifiers`             |
| `[tool.setuptools]`               | Maps the project root to the `src`directory.                 | `package-dir = {"" = "src"}`                                   |
| `[tool.setuptools.packages.find]` | Automatically discovers sub-packages within `src`.           | `where = ["src"]`                                              |

---

### Chapter 2: Path and Dependency Management

This chapter addresses the common `ModuleNotFoundError` and establishes protocols for managing project dependencies.

#### 2.1 Resolving `ModuleNotFoundError` (The Path Problem)

When running tests or scripts from outside the `src/` directory (e.g., in `tests/` or a main script), Python often cannot find `import package_name`.

**The Solution: Editable Install**

* **Command:** Run `pip install -e .` from the project root.
* **Mechanism:** This command links your current source directory directly into the Python environment's path, allowing for clean, absolute imports like `from llm_tool_hub.base_tool import BaseTool`.
* **Benefit:** Changes to the source code take effect immediately without reinstallation.

#### 2.2 Configuring `pytest` for `src` Layout

Even after an editable install, `pytest` may still need guidance on where to look for source code.

**The Solution: Explicit `pythonpath` in `pyproject.toml`**

Add the following configuration to explicitly include the `src` directory in the test runner's import path:

**Ini, TOML**

```
[tool.pytest.ini_options]
# Ensures that 'pytest' can resolve imports relative to the 'src' directory.
pythonpath = ["src"] 
```

#### 2.3 Dependency Separation Protocol

Dependencies must be strictly separated based on their function:

| **Dependency Type** | **Used By**                                    | **Configuration Location**        | **pip Installation**        |
| ------------------------- | ---------------------------------------------------- | --------------------------------------- | --------------------------------- |
| **Runtime**         | The deployed library code (e.g.,`ReadFileTool`).   | `[project].dependencies`              | `pip install package-name`      |
| **Development**     | The developers (e.g., running tests, linting, docs). | `[project.optional-dependencies].dev` | `pip install package-name[dev]` |

**Principle:** Never list development tools (like `pytest`) in the main `[project].dependencies`, as this unnecessarily increases the footprint for end-users.
